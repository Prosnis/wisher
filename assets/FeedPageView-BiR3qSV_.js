import{g as $,i as x,j as F,_ as C,r as k,u as h,k as U,l as L,o as u,c,F as w,m as y,a as s,t as N,p as g,d as v,n as d,q as V}from"./index-B2m54ijR.js";import{W}from"./WiNavbar-qMcUzFTC.js";const B=$();async function S(){try{const f=x(B,"users");return(await F(f)).docs.map(n=>({id:n.id,...n.data()}))}catch(f){return console.error("Ошибка при получении пользователей:",f),[]}}const A={key:0},D=["onClick"],E={class:"mini__profile__wallpaper"},I=["src"],j={class:"mini__profile__avatar"},q=["src"],R={class:"mini__profile__info"},z={class:"mini__profile--title"},G={class:"pagination__controls"},H=["disabled"],J=["disabled"],m=3,K={__name:"WiMiniProfileCard",setup(f){const i=k([]),o=k(0),n=h(),a=k(!1),e=[1,2,3],p=U(()=>{const r=o.value*m,l=r+m;return i.value.slice(r,l)});function t(){(o.value+1)*m<i.value.length&&o.value++}function M(){o.value>0&&o.value--}async function P(r){try{await n.push(`${g.user}/${r}`)}catch(l){console.log(l)}}return L(async()=>{try{a.value=!0,i.value=await S()}catch(r){console.log(r,"err")}finally{a.value=!1}}),(r,l)=>(u(),c("div",null,[a.value?(u(),c("div",A,[(u(),c(w,null,y(e,(_,b)=>s("div",{key:b,class:"mini__profile hover"})),64))])):(u(!0),c(w,{key:1},y(p.value,_=>(u(),c("div",{key:_.uid,class:"mini__profile",onClick:b=>P(_.uid)},[s("div",E,[s("img",{class:"profile__img profile__img--wallpaper",src:_.wallpaperUrl,alt:""},null,8,I)]),s("div",j,[s("img",{class:"profile__img profile__img--avatar",src:_.photoUrl,alt:""},null,8,q)]),s("div",R,[s("h3",z,N(_.displayName),1),l[0]||(l[0]=s("span",{class:"mini__profile--description"},"открыть профиль",-1))])],8,D))),128)),s("div",G,[s("button",{class:"pagination__button",disabled:o.value===0,onClick:M}," Предыдущие ",8,H),s("button",{class:"pagination__button",disabled:(o.value+1)*m>=i.value.length,onClick:t}," Следующие ",8,J)])]))}},O=C(K,[["__scopeId","data-v-e23f8d3e"]]),Q={class:"feed__container"},T={class:"feed__wrapper"},X={class:"feed__item feed__item--users"},Y={__name:"FeedPageView",setup(f){const i=h();function o(a){a.target.classList.add("hover")}function n(a){a.target.classList.remove("hover")}return(a,e)=>{const p=V("font-awesome-icon");return u(),c(w,null,[v(W),s("div",Q,[s("div",T,[s("div",{class:"feed__item feed__item--login",onMouseenter:e[0]||(e[0]=t=>o(t)),onMouseleave:e[1]||(e[1]=t=>n(t)),onClick:e[2]||(e[2]=()=>d(i).push(d(g).register))},[e[9]||(e[9]=s("h2",{class:"item__title"}," Присоедениться ",-1)),e[10]||(e[10]=s("span",{class:"item__subtitle"},"Зарегистрируйтесь, чтобы создать свой список желаний.",-1)),v(p,{class:"feed__icon feed__icon-arrow",icon:["fas","angles-right"]})],32),s("div",{class:"feed__item feed__item--search",onMouseenter:e[3]||(e[3]=t=>o(t)),onMouseleave:e[4]||(e[4]=t=>n(t)),onClick:e[5]||(e[5]=()=>d(i).push(d(g).cards))},[e[11]||(e[11]=s("h2",{class:"item__title"}," Идеи подарков ",-1)),e[12]||(e[12]=s("span",{class:"item__subtitle"},"Откройте для себя желания пользователей, которые разделяют ваши интересы!",-1)),v(p,{class:"feed__icon feed__icon-arrow",icon:["fas","angles-right"]})],32),s("div",{class:"feed__item feed__item--invitation",onMouseenter:e[6]||(e[6]=t=>o(t)),onMouseleave:e[7]||(e[7]=t=>n(t)),onClick:e[8]||(e[8]=()=>d(i).push(d(g).invitationCard))},[e[13]||(e[13]=s("h2",{class:"item__title"}," Cоздать приглашение ",-1)),e[14]||(e[14]=s("span",{class:"item__subtitle"},"Удобная онлайн-открытка для ваших друзей!",-1)),v(p,{class:"feed__icon feed__icon-arrow",icon:["fas","angles-right"]})],32),s("div",X,[e[15]||(e[15]=s("h2",{class:"item__title"}," Пользователи ",-1)),v(O)])])])],64)}}},se=C(Y,[["__scopeId","data-v-f55e0153"]]);export{se as default};
