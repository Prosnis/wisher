import{g as c}from"./GetUserData-BTGUAlWt.js";import{f as g,J as f,r as s,W as h}from"./index-FYdH7f92.js";const D=g(),d=f("user",()=>{const t=s(null),e=s(null),u=async()=>{const{user:a}=await c(t.value);e.value=a};return h(D,a=>{a?(t.value=a.uid,u()):(t.value=null,e.value=null)}),{userUID:t,user:e}}),w=f("profile",()=>{const t=d(),e=s(null),u=s(null),a=s(null),r=s(!1),o=s(!0),n=s(null);return{profileUID:e,user:u,wishes:n,badges:a,hasEditPermission:r,skeletonLoad:o,getProfileData:async v=>{try{o.value=!0,e.value=v;const{user:l,wishes:i}=await c(e.value);l&&(u.value=l,a.value=l.badges||[],r.value=t.userUID===e.value),i&&(n.value=i)}catch(l){console.log(l,"Не удалось получить данные профиля.")}finally{o.value=!1}}}});export{w as u};
