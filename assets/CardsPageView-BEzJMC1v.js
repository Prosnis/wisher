import{_ as b}from"./empty-nqOw6-D2.js";import{g as B,W}from"./GetAllWishes-CMV4OY_h.js";import{W as P}from"./WiNavbar-BZupQX3X.js";import{b as D}from"./UserBadgesStore-wYMTvAUU.js";import{C as N}from"./vue-content-loader.es-CyId24bj.js";import{_ as V,r as i,i as L,j as E,k as F,c as n,l as H,a as l,F as f,t as C,m as _,n as x,x as S,B as U,o as t,H as A,D as I}from"./index-CEK05V9V.js";const v=[{name:"Все категории",BgColor:"rgba(255, 255, 255, 1)",color:"rgba(0, 0, 0, 1)"}],O={class:"cards"},j={class:"cards__nav"},z={class:"cards__list"},M=["onClick"],Y={key:1,class:"cards__wrapper"},$={key:2,class:"empty"},q=10,G={__name:"CardsPageView",setup(J){const u=i(null),d=i([]),o=i([]),r=i(!1),p=i(1),g=L(()=>o.value.slice(0,p.value*q));function h(){window.innerHeight+window.scrollY>=document.body.offsetHeight-10&&g.value.length<o.value.length&&(p.value+=1)}function y(a){return d.value.some(s=>s.name===a.name)}function w(a){d.value.findIndex(e=>e.name===a.name)===-1&&(d.value=[a])}function k(a){try{r.value=!0,a.name==="Все категории"?o.value=u.value:o.value=u.value.filter(s=>s.badge.some(e=>e.name===a.name))}finally{r.value=!1}}return E(async()=>{try{window.addEventListener("scroll",h),r.value=!0;const a=await B(),s=await Promise.all(a.map(async e=>({...e})));u.value=s,w(v[0]),k(v[0])}catch(a){console.error("Ошибка загрузки данных:",a)}finally{r.value=!1}}),F(()=>{window.removeEventListener("scroll",h)}),(a,s)=>(t(),n(f,null,[H(P),l("div",O,[l("div",j,[l("ul",z,[(t(!0),n(f,null,C([..._(D),..._(v)],(e,c)=>(t(),n("li",{key:c,class:"cards__item",style:A({backgroundColor:y(e)?"#0817ecb9":"#f5f7fa",color:y(e)?"#f0f0f0":"#0817ecb9"}),onClick:m=>[w(e),k(e)]},I(e.name),13,M))),128))])]),r.value?(t(),x(_(N),{key:0,class:"cards__wrapper",viewBox:"0 0 1300 600",speed:2,"primary-color":"#f5f7fa","secondary-color":"#f0f0f0"},{default:S(()=>s[0]||(s[0]=[l("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"1300",height:"600"},null,-1)])),_:1})):o.value.length&&!r.value?(t(),n("div",Y,[(t(!0),n(f,null,C(g.value,e=>{var c,m;return t(),x(W,{key:e.id,wish:e,"user-img":(c=e.userData)==null?void 0:c.photoUrl,"user-name":(m=e.userData)==null?void 0:m.displayName},null,8,["wish","user-img","user-name"])}),128))])):o.value.length===0?(t(),n("div",$,s[1]||(s[1]=[l("img",{class:"empty__image",src:b,alt:""},null,-1),l("span",null,"Здесь пока пусто...",-1)]))):U("",!0)])],64))}},ee=V(G,[["__scopeId","data-v-24650ac0"]]);export{ee as default};
