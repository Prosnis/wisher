import{_ as w,r,c,a as o,w as d,v as p,D as b,B as k,b as G,p as h,d as g,G as P,s as y,o as _,u as A,E as V}from"./index-CEK05V9V.js";const x={class:"auth"},E={key:0},B={__name:"AuthPageView",setup(I){const n=r(""),l=r(""),s=r(""),i=A();function v(){i.push(h.register).catch(a=>{console.error("Failed to navigate:",a)})}function m(){const a=g();V(a,n.value,l.value).then(e=>{const t=e.user;console.log("Successfully logged in:",t),i.push(`${h.user}/${t.uid}`).catch(u=>{console.error("Failed to navigate:",u)})}).catch(e=>{switch(console.log(e.code),console.log(e.message),e.code){case"auth/invalid-email":s.value="Неправильный адрес электронной почты";break;case"auth/user-not-found":s.value="Аккаунт с таким адресом электронной почты не найден";break;case"auth/wrong-password":s.value="Неправильный пароль";break;default:s.value="Адрес электронной почты или пароль введены неверно"}})}function f(){const a=g(),e=new P;y(a,e).then(t=>{const u=t.user;console.log("Google sign-in success:",u),i.push(`/user/${u.uid}`)}).catch(t=>{console.error("Error during Google sign-in:",t),s.value="Не удалось войти через Google. Попробуйте еще раз."})}return(a,e)=>(_(),c("div",x,[o("form",{class:"auth__form",onSubmit:G(m,["prevent"])},[e[2]||(e[2]=o("h1",null,"Log in",-1)),d(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),class:"auth__input auth__input--email",type:"text",placeholder:"Email"},null,512),[[p,n.value]]),d(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),class:"auth__input auth__input--password",type:"password",placeholder:"Password"},null,512),[[p,l.value]]),s.value?(_(),c("p",E,b(s.value),1)):k("",!0),e[3]||(e[3]=o("button",{class:"auth__btn auth__btn--login",type:"submit"}," Войти ",-1)),o("button",{class:"auth__btn auth__button--withGoogle",onClick:f}," Google "),o("p",{class:"auth__question",onClick:v}," новый пользователь? ")],32)]))}},D=w(B,[["__scopeId","data-v-9d0f0311"]]);export{D as default};
