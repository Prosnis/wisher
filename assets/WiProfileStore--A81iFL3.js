import{g as f}from"./GetUserData-jCM42mLR.js";import{f as h,M as v,r as e,Z as d}from"./index-B2m54ijR.js";const g=h(),D=v("user",()=>{const s=e(null),u=e(null),t=async()=>{const{user:a}=await f(s.value);u.value=a};return d(g,a=>{a?(s.value=a.uid,t()):(s.value=null,u.value=null)}),{userUID:s,user:u}}),y=v("profile",()=>{const s=e({}),u=D(),t=e(""),a=e([]),l=e([]),i=e(!1),r=e(!0);return{profileUID:t,user:s,wishes:l,badges:a,hasEditPermission:i,skeletonLoad:r,getProfileData:async n=>{try{r.value=!0,t.value=n;const{user:o,wishes:c}=await f(t.value);o&&(s.value=o,a.value=o.badges||[],i.value=u.userUID===t.value),c&&(l.value=c)}catch(o){console.log(o,"Не удалось получить данные профиля.")}finally{r.value=!1}},addWish:n=>{l.value.push(n)}}});export{y as u};
