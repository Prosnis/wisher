import{g,W as h}from"./GetAllWishes-Bi237XlT.js";import{g as k,W as y}from"./WiNavbar-kWzukgAC.js";import{b as W}from"./UserBadgesStore-jHlPkzW9.js";import{_ as w,r as u,l as C,c as o,d as x,a as c,F as d,m as f,n as B,o as t,E as D,t as P,B as b}from"./index-6jhAjEIq.js";const N={class:"cards"},V={class:"cards__nav"},F={class:"cards__list"},I=["onClick"],U={class:"cards__wrapper"},E={__name:"CardsPageView",setup(S){const m=u(null),l=u([]),n=u([]);function _(a){return l.value.some(s=>s.name===a.name)}function p(a){l.value.findIndex(e=>e.name===a.name)===-1&&(l.value=[a])}function v(a){n.value=m.value.filter(s=>s.badge.some(e=>e.name===a.name)),console.log(a.name),console.log(n.value)}return C(async()=>{try{const a=await g(),s=await Promise.all(a.map(async e=>{const{user:r}=await k(e.userId);return{...e,userData:r}}));m.value=s,n.value=s}catch(a){console.error("Ошибка загрузки данных:",a)}}),(a,s)=>(t(),o(d,null,[x(y),c("div",N,[c("div",V,[c("ul",F,[(t(!0),o(d,null,f(B(W),(e,r)=>(t(),o("li",{key:r,class:"cards__item",style:D({backgroundColor:_(e)?"#0817ecb9":"#f5f7fa",color:_(e)?"#f0f0f0":"#0817ecb9"}),onClick:i=>[p(e),v(e)]},P(e.name),13,I))),128))])]),c("div",U,[(t(!0),o(d,null,f(n.value,e=>{var r,i;return t(),b(h,{key:e.id,wish:e,"user-img":(r=e.userData)==null?void 0:r.photoUrl,"user-name":(i=e.userData)==null?void 0:i.displayName},null,8,["wish","user-img","user-name"])}),128))])])],64))}},$=w(E,[["__scopeId","data-v-86c567d9"]]);export{$ as default};
