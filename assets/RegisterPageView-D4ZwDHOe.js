import{_ as d,r as i,g as p,c as w,a as s,w as G,v as l,b as k,p as a,d as I,G as Z,s as E,e as c,f as Y,o as _,u as b,h as j}from"./index-CEK05V9V.js";const v="/wisher/assets/avatar-Bo7-FhEE.png",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABRQAAAD6CAIAAABf8lzqAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAXASURBVHhe7dcxAYAwEMDAB2OsFY8oFtY2Bu6WaMj1rHcAAACAvfsvAAAAsGGeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAIBgngEAACCYZwAAAAjmGQAAAIJ5BgAAgGCeAQAAIJhnAAAACOYZAAAAgnkGAACAYJ4BAAAgmGcAAAAI5hkAAACCeQYAAICjmQ/dzANHWi71SQAAAABJRU5ErkJggg==",O={class:"register"},f={__name:"RegisterPageView",setup(U){const n=i(""),t=i(""),r=b(),o=p();function B(){r.push(a.auth).catch(g=>{console.error("Failed to navigate:",g)})}async function m(){try{const A=(await j(I(),n.value,t.value)).user;console.log(A,"successfully registered");const C={uid:A.uid,email:A.email,createdAt:new Date,wallpaperUrl:u,displayName:A.email.split("@")[0],about:"",photoUrl:v,badges:[{name:"Аниме",BgColor:"rgba(204, 34, 238, 0.45)",color:"rgba(204, 34, 238, 1)"}],subscribe:[]};await c(Y(o,"users",A.uid),C),await r.push(`${a.user}/${A.uid}`).catch(e=>{console.error("Failed to navigate:",e)})}catch(g){console.error("Error during registration:",g.code,g.message)}}async function h(){const g=I(),A=new Z;try{const e=(await E(g,A)).user;console.log(e,"successfully logged in with Google");const Q={uid:e.uid,email:e.email,createdAt:new Date,wallpaperUrl:u,displayName:e.displayName,about:"",photoUrl:e.photoURL,badges:[{name:"Аниме",BgColor:"rgba(204, 34, 238, 0.45)",color:"rgba(204, 34, 238, 1)"}],subscribe:[]};await c(Y(o,"users",e.uid),Q,{merge:!0}),await r.push(`${a.user}/${e.uid}`).catch(J=>{console.error("Failed to navigate:",J)})}catch(C){console.error("Error during Google sign-in:",C.message)}}return(g,A)=>(_(),w("div",O,[s("form",{class:"register__form",onSubmit:k(m,["prevent"])},[A[2]||(A[2]=s("h1",null,"Sign in",-1)),G(s("input",{"onUpdate:modelValue":A[0]||(A[0]=C=>n.value=C),class:"register__input register__input--email",type:"text",placeholder:"Email"},null,512),[[l,n.value]]),G(s("input",{"onUpdate:modelValue":A[1]||(A[1]=C=>t.value=C),class:"register__input register__input--password",type:"password",placeholder:"Password"},null,512),[[l,t.value]]),A[3]||(A[3]=s("button",{class:"register__button register__button--login",type:"submit"}," Зарегистрироваться ",-1)),s("button",{class:"register__button register__button--withGoogle",onClick:h}," Google "),s("p",{class:"register__question",onClick:B}," есть аккаунт? ")],32)]))}},D=d(f,[["__scopeId","data-v-b678199d"]]);export{D as default};
